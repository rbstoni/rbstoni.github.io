@namespace Rtrw.Client.Wasm.Components
@inherits RtrwBaseInput<T>
@typeparam T
@using Rtrw.Client.Wasm.Components.Input

<CascadingValue Name="Standalone" Value="@Standalone" IsFixed="true">
    <RtrwInputControl Label="@Label"
                      Variant="@Variant"
                      HelperText="@HelperText"
                      HelperTextOnFocus="@HelperTextOnFocus"
                      CounterText="@GetCounterText()"
                      FullWidth="@FullWidth"
                      Class="@Classname"
                      Error="@HasErrors"
                      ErrorText="@GetErrorText()"
                      ErrorId="@ErrorId"
                      Disabled="@Disabled"
                      Margin="@Margin"
                      Required="@Required"
                      ForId="@FieldId">
        <InputContent>
            <CascadingValue Name="Standalone" Value="false" IsFixed="true">
                @if (mask == null)
                {
                    <RtrwInput T="string"
                           @ref="InputReference"
                           @attributes="UserAttributes"
                           InputType="@InputType"
                           Lines="@Lines"
                           Style="@Style"
                           Variant="@Variant"
                           TextUpdateSuppression="@TextUpdateSuppression"
                           Value="@Text"
                           ValueChanged="(s) => SetTextAsync(s)"
                           Placeholder="@Placeholder"
                           Disabled=@Disabled
                           DisableUnderLine="@DisableUnderLine"
                           ReadOnly="@ReadOnly"
                           MaxLength="@MaxLength"
                           Adornment="@Adornment"
                           AdornmentContent="@AdornmentContent"
                           AdornmentSvg="@AdornmentSvg"
                           OnAdornmentClick="@OnAdornmentClick"
                           Error="@Error"
                           ErrorId="@ErrorId"
                           Immediate="@Immediate"
                           Margin="@Margin"
                           OnBlur="@OnBlurred"
                           OnKeyDown="@InvokeKeyDown"
                           OnKeyPress="@InvokeKeyPress"
                           OnKeyUp="@InvokeKeyUp"
                           KeyDownPreventDefault="KeyDownPreventDefault"
                           KeyPressPreventDefault="KeyPressPreventDefault"
                           KeyUpPreventDefault="KeyUpPreventDefault"
                           HideSpinButtons="true"
                           Clearable="@Clearable"
                           OnClearButtonClick="@OnClearButtonClick"
                           Pattern="@Pattern" />
                }
                else
                {
                    <RtrwMask @ref="maskReference"
                          @attributes="UserAttributes"
                          Mask="@mask"
                          InputType="@InputType"
                          Lines="@Lines"
                          Style="@Style"
                          Variant="@Variant"
                          TextUpdateSuppression="@TextUpdateSuppression"
                          Value="@Text"
                          ValueChanged="OnMaskedValueChanged"
                          Placeholder="@Placeholder"
                          Disabled=@Disabled
                          DisableUnderLine="@DisableUnderLine"
                          ReadOnly="@ReadOnly"
                          MaxLength="@MaxLength"
                          Adornment="@Adornment"
                          AdornmentContent="@AdornmentContent"
                          OnAdornmentClick="@OnAdornmentClick"
                          Error="@Error"
                          Immediate="@Immediate"
                          Margin="@Margin" OnBlur="@OnBlurred"
                          Clearable="@Clearable"
                          OnClearButtonClick="@OnClearButtonClick" />
                }
            </CascadingValue>
        </InputContent>
    </RtrwInputControl>
</CascadingValue>